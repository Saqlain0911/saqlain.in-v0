{"ast":null,"code":"import{motion}from'motion/react';import{useEffect,useRef,useState,useMemo}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const buildKeyframes=(from,steps)=>{const keys=new Set([...Object.keys(from),...steps.flatMap(s=>Object.keys(s))]);const keyframes={};keys.forEach(k=>{keyframes[k]=[from[k],...steps.map(s=>s[k])];});return keyframes;};const BlurText=_ref=>{let{text='',delay=200,className='',animateBy='words',direction='top',threshold=0.1,rootMargin='0px',animationFrom,animationTo,easing=t=>t,onAnimationComplete,stepDuration=0.35}=_ref;const elements=animateBy==='words'?text.split(' '):text.split('');const[inView,setInView]=useState(false);const ref=useRef(null);useEffect(()=>{if(!ref.current)return;const observer=new IntersectionObserver(_ref2=>{let[entry]=_ref2;if(entry.isIntersecting){setInView(true);observer.unobserve(ref.current);}},{threshold,rootMargin});observer.observe(ref.current);return()=>observer.disconnect();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[threshold,rootMargin]);const defaultFrom=useMemo(()=>direction==='top'?{filter:'blur(10px)',opacity:0,y:-50}:{filter:'blur(10px)',opacity:0,y:50},[direction]);const defaultTo=useMemo(()=>[{filter:'blur(5px)',opacity:0.5,y:direction==='top'?5:-5},{filter:'blur(0px)',opacity:1,y:0}],[direction]);const fromSnapshot=animationFrom!==null&&animationFrom!==void 0?animationFrom:defaultFrom;const toSnapshots=animationTo!==null&&animationTo!==void 0?animationTo:defaultTo;const stepCount=toSnapshots.length+1;const totalDuration=stepDuration*(stepCount-1);const times=Array.from({length:stepCount},(_,i)=>stepCount===1?0:i/(stepCount-1));return/*#__PURE__*/_jsx(\"p\",{ref:ref,className:\"blur-text \".concat(className,\" flex flex-wrap\"),children:elements.map((segment,index)=>{const animateKeyframes=buildKeyframes(fromSnapshot,toSnapshots);const spanTransition={duration:totalDuration,times,delay:index*delay/1000};spanTransition.ease=easing;return/*#__PURE__*/_jsxs(motion.span,{className:\"inline-block will-change-[transform,filter,opacity]\",initial:fromSnapshot,animate:inView?animateKeyframes:fromSnapshot,transition:spanTransition,onAnimationComplete:index===elements.length-1?onAnimationComplete:undefined,children:[segment===' '?'\\u00A0':segment,animateBy==='words'&&index<elements.length-1&&'\\u00A0']},index);})});};export default BlurText;","map":{"version":3,"names":["motion","useEffect","useRef","useState","useMemo","jsxs","_jsxs","jsx","_jsx","buildKeyframes","from","steps","keys","Set","Object","flatMap","s","keyframes","forEach","k","map","BlurText","_ref","text","delay","className","animateBy","direction","threshold","rootMargin","animationFrom","animationTo","easing","t","onAnimationComplete","stepDuration","elements","split","inView","setInView","ref","current","observer","IntersectionObserver","_ref2","entry","isIntersecting","unobserve","observe","disconnect","defaultFrom","filter","opacity","y","defaultTo","fromSnapshot","toSnapshots","stepCount","length","totalDuration","times","Array","_","i","concat","children","segment","index","animateKeyframes","spanTransition","duration","ease","span","initial","animate","transition","undefined"],"sources":["C:/Users/Saqlain/saqlain.in-v0/src/components/BlurText.jsx"],"sourcesContent":["import { motion } from 'motion/react';\nimport { useEffect, useRef, useState, useMemo } from 'react';\n\nconst buildKeyframes = (from, steps) => {\n  const keys = new Set([\n    ...Object.keys(from),\n    ...steps.flatMap((s) => Object.keys(s)),\n  ]);\n\n  const keyframes = {};\n  keys.forEach((k) => {\n    keyframes[k] = [from[k], ...steps.map((s) => s[k])];\n  });\n  return keyframes;\n};\n\nconst BlurText = ({\n  text = '',\n  delay = 200,\n  className = '',\n  animateBy = 'words',\n  direction = 'top',\n  threshold = 0.1,\n  rootMargin = '0px',\n  animationFrom,\n  animationTo,\n  easing = (t) => t,\n  onAnimationComplete,\n  stepDuration = 0.35,\n}) => {\n  const elements = animateBy === 'words' ? text.split(' ') : text.split('');\n  const [inView, setInView] = useState(false);\n  const ref = useRef(null);\n\n  useEffect(() => {\n    if (!ref.current) return;\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setInView(true);\n          observer.unobserve(ref.current);\n        }\n      },\n      { threshold, rootMargin }\n    );\n    observer.observe(ref.current);\n    return () => observer.disconnect();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [threshold, rootMargin]);\n\n  const defaultFrom = useMemo(\n    () =>\n      direction === 'top'\n        ? { filter: 'blur(10px)', opacity: 0, y: -50 }\n        : { filter: 'blur(10px)', opacity: 0, y: 50 },\n    [direction]\n  );\n\n  const defaultTo = useMemo(\n    () => [\n      {\n        filter: 'blur(5px)',\n        opacity: 0.5,\n        y: direction === 'top' ? 5 : -5,\n      },\n      { filter: 'blur(0px)', opacity: 1, y: 0 },\n    ],\n    [direction]\n  );\n\n  const fromSnapshot = animationFrom ?? defaultFrom;\n  const toSnapshots = animationTo ?? defaultTo;\n\n  const stepCount = toSnapshots.length + 1;\n  const totalDuration = stepDuration * (stepCount - 1);\n  const times = Array.from({ length: stepCount }, (_, i) =>\n    stepCount === 1 ? 0 : i / (stepCount - 1)\n  );\n\n  return (\n    <p\n      ref={ref}\n      className={`blur-text ${className} flex flex-wrap`}\n    >\n      {elements.map((segment, index) => {\n        const animateKeyframes = buildKeyframes(fromSnapshot, toSnapshots);\n\n        const spanTransition = {\n          duration: totalDuration,\n          times,\n          delay: (index * delay) / 1000,\n        };\n        (spanTransition).ease = easing;\n\n        return (\n          <motion.span\n            className=\"inline-block will-change-[transform,filter,opacity]\"\n            key={index}\n            initial={fromSnapshot}\n            animate={inView ? animateKeyframes : fromSnapshot}\n            transition={spanTransition}\n            onAnimationComplete={\n              index === elements.length - 1 ? onAnimationComplete : undefined\n            }\n          >\n            {segment === ' ' ? '\\u00A0' : segment}\n            {animateBy === 'words' && index < elements.length - 1 && '\\u00A0'}\n          </motion.span>\n        );\n      })}\n    </p>\n  );\n};\n\nexport default BlurText;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}